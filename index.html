<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="index.css" />

<body>
	<script src="elm.js"></script>
<script>
	var app = Elm.MetaX.fullscreen(localStorage.session || null);

	app.ports.storeSession.subscribe(function(session) {
		localStorage.session = session;
	});

	window.addEventListener("storage", function(event) {
		if (event.storageArea === localStorage && event.key === "session") {
			app.ports.onSessionChange.send(event.newValue);
		}
	}, false);
</script>
</body>